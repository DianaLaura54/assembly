DATE SEGMENT PARA 'DATA' ;NUMARA SPATII, AFISAREA FCT BINE DOAR PT CIFRA
MESSAGE DB "ana are mere de vanzare!", '$' 
LGSIR DW $-MESSAGE
NR DB 0
DATE ENDS

CODE SEGMENT PARA PUBLIC 'CODE'

ASSUME CS:CODE, DS:DATE

PRINT_DIGIT_PROC PROC
	ADD DL, 30H
	MOV AH, 02H
	INT 21H
	RET
PRINT_DIGIT_PROC ENDP

MAIN PROC FAR
PUSH DS
XOR AX,AX
PUSH AX
MOV AX,DATE
MOV DS,AX
;OTHER PROGRAM INSTRUCTIONS

mov cx, LGSIR
MOV SI, 0

BUCLA:
	MOV AX, 0
	MOV AL, MESSAGE[SI]
	CMP AL, 20h
	JE NUMBER
	INC SI
	CMP SI, CX
	JG GATA
	JLE BUCLA
	
NUMBER:
	INC NR
	INC SI
	CMP SI, CX
	JG GATA
	JLE BUCLA
	
GATA:
	MOV DL, NR
	CALL PRINT_DIGIT_PROC
	mov ah,4ch      ; dos function 4ch to terminate and return to dos
    mov al,00       
    int 21h
	
MAIN ENDP
CODE ENDS
END MAIN